var mapLink=document.querySelector(".map-link"),mapPopup=document.querySelector(".map"),closeMap=document.querySelector(".map .modal-close"),contactsLink=document.querySelector(".button-contacts"),feedBackPopup=document.querySelector(".write-to-us"),closeFeedBac=document.querySelector(".write-to-us .modal-close"),form=feedBackPopup.querySelector("form"),yourName=feedBackPopup.querySelector(".your-name"),yourMail=feedBackPopup.querySelector(".your-mail"),yourLeter=feedBackPopup.querySelector(".your-leter"),nameInStorage=localStorage.getItem("name"),emailInStorage=localStorage.getItem("email");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("show-map")}),closeMap.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("show-map")}),contactsLink.addEventListener("click",function(e){e.preventDefault(),feedBackPopup.classList.add("show-feed-back"),yourName.focus(),nameInStorage&&(yourName.value=nameInStorage,yourMail.focus()),emailInStorage&&(yourMail.value=emailInStorage,yourLeter.focus())}),closeFeedBac.addEventListener("click",function(e){e.preventDefault(),feedBackPopup.classList.remove("show-feed-back"),feedBackPopup.classList.remove("error-feed-back")}),form.addEventListener("submit",function(e){yourName.value&&yourMail.value&&yourLeter.value?(localStorage.setItem("name",yourName.value),localStorage.setItem("email",yourMail.value)):(e.preventDefault(),feedBackPopup.classList.add("error-feed-back"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(mapPopup.classList.contains("show-map")&&mapPopup.classList.remove("show-map"),feedBackPopup.classList.contains("show-feed-back")&&(feedBackPopup.classList.remove("show-feed-back"),feedBackPopup.classList.remove("error-feed-back")))});